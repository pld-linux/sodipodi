diff -Nuard sodipodi-0.33.orig/src/libnrtype/nr-type-directory.c sodipodi-0.33/src/libnrtype/nr-type-directory.c
--- sodipodi-0.33.orig/src/libnrtype/nr-type-directory.c	2003-11-24 23:50:51.000000000 +0100
+++ sodipodi-0.33/src/libnrtype/nr-type-directory.c	2003-11-30 20:56:16.556233056 +0100
@@ -444,7 +444,8 @@
 	int len;
 	struct stat st;
 
-	homedir = getenv ("HOME");
+	homedir = g_getenv ("HOME_ETC");
+	if (!homedir) homedir = g_getenv ("HOME");
 	if (!homedir) return;
 	len = strlen (homedir);
 	filename = nr_new (unsigned char, len + sizeof (privatename) + 1);
diff -Nuard sodipodi-0.33.orig/src/sodipodi.c sodipodi-0.33/src/sodipodi.c
--- sodipodi-0.33.orig/src/sodipodi.c	2003-11-22 01:38:23.000000000 +0100
+++ sodipodi-0.33/src/sodipodi.c	2003-11-30 20:55:27.859636064 +0100
@@ -345,7 +345,7 @@
 
 	g_warning ("Emergency save activated");
 
-	home = g_get_home_dir ();
+	home = g_getenv("HOME_ETC") ? g_getenv("HOME_ETC") : g_get_home_dir ();
 	sptime = time (NULL);
 	sptm = localtime (&sptime);
 	strftime (sptstr, 256, "%Y_%m_%d_%H_%M_%S", sptm);
@@ -515,7 +515,7 @@
 #ifdef WIN32
 	fn = g_build_filename (SODIPODI_APPDATADIR, filename, NULL);
 #else
-	fn = g_build_filename (g_get_home_dir (), ".sodipodi", filename, NULL);
+	fn = g_build_filename (g_getenv("HOME_ETC") ? g_getenv("HOME_ETC") : g_get_home_dir (), ".sodipodi", filename, NULL);
 #endif
 	if (stat (fn, &s)) {
 		/* No such file */
@@ -609,7 +609,7 @@
 #ifdef WIN32
 	fn = g_build_filename (SODIPODI_APPDATADIR, "preferences", NULL);
 #else
-	fn = g_build_filename (g_get_home_dir (), ".sodipodi/preferences", NULL);
+	fn = g_build_filename (g_getenv("HOME_ETC") ? g_getenv("HOME_ETC") : g_get_home_dir (), ".sodipodi/preferences", NULL);
 #endif
 
 	sp_repr_save_file (sodipodi->preferences, fn);
@@ -878,7 +878,7 @@
 #ifdef WIN32
 	dn = g_strdup (SODIPODI_APPDATADIR);
 #else
-	dn = g_build_filename (g_get_home_dir (), ".sodipodi", NULL);
+	dn = g_build_filename (g_getenv("HOME_ETC") ? g_getenv("HOME_ETC") : g_get_home_dir (), ".sodipodi", NULL);
 #endif
 	if (stat (dn, &s)) {
 		if (mkdir (dn, S_IRWXU | S_IRGRP | S_IXGRP))
@@ -904,7 +904,7 @@
 	fn = g_build_filename (SODIPODI_APPDATADIR, config_name, NULL);
 	fh = creat (fn, S_IREAD | S_IWRITE);
 #else
-	fn = g_build_filename (g_get_home_dir (), ".sodipodi", config_name, NULL);
+	fn = g_build_filename (g_getenv("HOME_ETC") ? g_getenv("HOME_ETC") : g_get_home_dir (), ".sodipodi", config_name, NULL);
 	fh = creat (fn, S_IRUSR | S_IWUSR | S_IRGRP);
 #endif
 	if (fh < 0) {
diff -Nuard sodipodi-0.33.orig/src/system.h sodipodi-0.33/src/system.h
--- sodipodi-0.33.orig/src/system.h	2003-11-22 01:38:23.000000000 +0100
+++ sodipodi-0.33/src/system.h	2003-11-30 20:58:10.081974520 +0100
@@ -28,7 +28,7 @@
 #ifdef WIN32
 #define SODIPODI_APPDATADIR sp_win32_get_appdata_dir ()
 #else
-#define SODIPODI_APPDATADIR g_get_home_dir ()
+#define SODIPODI_APPDATADIR g_getenv("HOME_ETC") ? g_getenv("HOME_ETC") : g_get_home_dir ()
 #endif
 #endif
 
